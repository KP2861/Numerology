<!DOCTYPE html>
<html>

<head>
     <title>Payment Page</title>
     <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
     <style>
          .popup-dialog.showing {
               position: fixed;
               top: 0;
               left: 0;
               z-index: 99;
               width: 100%;
               height: 100%;
               overflow-x: hidden;
               overflow-y: auto;
               outline: 0;
               background: #00000057;
               display: flex;
               justify-content: center;
               align-items: center;
          }

          .popup-dialog.showing .inner {
               width: 50%;
               box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.05), inset 0 -1px 0 rgba(0, 0, 0, 0.15);
          }

          button.button-popup {
               background: #BA9A63;
               border-radius: 8px;
               font-size: 20px;
               color: #fff;
               border-color: transparent;
          }

          .button-popup.outline {
               background-color: #fff;
               border: 1px solid #BA9A63;
               color: #BA9A63;
          }

          .button-popup.outline:hover {
               background: #BA9A63;
               color: #fff;
               border-color: transparent;
          }
     </style>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</head>

<body>


     <div class="popup-dialog showing">
          <div class=" px-5 py-4 bg-white inner w-50 mx-auto rounded text-center">
               <svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.6035 16C15.1339 16 15.6427 16.2107 16.0177 16.5858C16.3928 16.9609 16.6035 17.4696 16.6035 18H18.6035C18.6002 17.1158 18.304 16.2576 17.7612 15.5596C17.2184 14.8615 16.4597 14.363 15.6035 14.142V12H13.6035V14.142C12.6619 14.3844 11.8411 14.962 11.2952 15.7666C10.7492 16.5712 10.5157 17.5474 10.6385 18.512C10.7612 19.4765 11.2318 20.3631 11.9618 21.0053C12.6919 21.6475 13.6312 22.0012 14.6035 22C14.9991 22 15.3858 22.1173 15.7147 22.3371C16.0436 22.5568 16.2999 22.8692 16.4513 23.2346C16.6027 23.6001 16.6423 24.0022 16.5651 24.3902C16.4879 24.7781 16.2974 25.1345 16.0177 25.4142C15.738 25.6939 15.3817 25.8844 14.9937 25.9616C14.6057 26.0387 14.2036 25.9991 13.8381 25.8478C13.4727 25.6964 13.1603 25.44 12.9406 25.1111C12.7208 24.7822 12.6035 24.3956 12.6035 24H10.6035C10.6068 24.8842 10.903 25.7424 11.4458 26.4404C11.9886 27.1385 12.7474 27.637 13.6035 27.858V30H15.6035V27.858C16.5451 27.6156 17.366 27.038 17.9119 26.2334C18.4578 25.4288 18.6913 24.4526 18.5685 23.488C18.4458 22.5235 17.9752 21.6369 17.2452 20.9947C16.5152 20.3525 15.5758 19.9988 14.6035 20C14.0731 20 13.5644 19.7893 13.1893 19.4142C12.8142 19.0391 12.6035 18.5304 12.6035 18C12.6035 17.4696 12.8142 16.9609 13.1893 16.5858C13.5644 16.2107 14.0731 16 14.6035 16Z" fill="#BA9A63" />
                    <path d="M50.6035 38C51.1339 38 51.6427 38.2107 52.0177 38.5858C52.3928 38.9609 52.6035 39.4696 52.6035 40H54.6035C54.6002 39.1158 54.304 38.2576 53.7612 37.5596C53.2184 36.8615 52.4597 36.363 51.6035 36.142V34H49.6035V36.142C48.6619 36.3844 47.8411 36.962 47.2952 37.7666C46.7492 38.5712 46.5157 39.5474 46.6385 40.512C46.7612 41.4765 47.2318 42.3631 47.9618 43.0053C48.6919 43.6475 49.6312 44.0012 50.6035 44C50.9991 44 51.3858 44.1173 51.7147 44.3371C52.0436 44.5568 52.2999 44.8692 52.4513 45.2346C52.6027 45.6001 52.6423 46.0022 52.5651 46.3902C52.4879 46.7781 52.2974 47.1345 52.0177 47.4142C51.738 47.6939 51.3817 47.8844 50.9937 47.9616C50.6057 48.0387 50.2036 47.9991 49.8382 47.8478C49.4727 47.6964 49.1603 47.44 48.9406 47.1111C48.7208 46.7822 48.6035 46.3956 48.6035 46H46.6035C46.6068 46.8842 46.903 47.7424 47.4458 48.4404C47.9886 49.1385 48.7474 49.637 49.6035 49.858V52H51.6035V49.858C52.5451 49.6156 53.366 49.038 53.9119 48.2334C54.4578 47.4288 54.6913 46.4526 54.5686 45.488C54.4458 44.5235 53.9752 43.6369 53.2452 42.9947C52.5152 42.3525 51.5758 41.9988 50.6035 42C50.0731 42 49.5644 41.7893 49.1893 41.4142C48.8142 41.0391 48.6035 40.5304 48.6035 40C48.6035 39.4696 48.8142 38.9609 49.1893 38.5858C49.5644 38.2107 50.0731 38 50.6035 38Z" fill="#BA9A63" />
                    <path d="M50.6035 30C50.2655 30 49.9345 30.025 49.6035 30.051V24H51.6035V27C51.6035 27.1913 51.6584 27.3785 51.7616 27.5395C51.8648 27.7006 52.012 27.8286 52.1858 27.9085C52.3596 27.9884 52.5526 28.0168 52.7421 27.9903C52.9315 27.9638 53.1093 27.8835 53.2545 27.759L60.2545 21.759C60.364 21.6651 60.4518 21.5487 60.512 21.4177C60.5722 21.2867 60.6034 21.1442 60.6034 21C60.6034 20.8558 60.5722 20.7133 60.512 20.5823C60.4518 20.4513 60.364 20.3349 60.2545 20.241L53.2545 14.241C53.1093 14.1165 52.9315 14.0362 52.7421 14.0097C52.5526 13.9832 52.3596 14.0116 52.1858 14.0915C52.012 14.1714 51.8648 14.2994 51.7616 14.4605C51.6584 14.6215 51.6035 14.8087 51.6035 15V18H49.6035V7C49.6019 5.40919 48.9693 3.88399 47.8444 2.75911C46.7195 1.63424 45.1943 1.00159 43.6035 1H21.6035C20.0127 1.00159 18.4875 1.63424 17.3626 2.75911C16.2378 3.88399 15.6051 5.40919 15.6035 7V8.051C15.2725 8.025 14.9415 8 14.6035 8C11.1557 8 7.8491 9.36964 5.41113 11.8076C2.97315 14.2456 1.60352 17.5522 1.60352 21C1.60352 24.4478 2.97315 27.7544 5.41113 30.1924C7.8491 32.6304 11.1557 34 14.6035 34C14.9415 34 15.2725 33.975 15.6035 33.949V41H13.6035V38C13.6035 37.8087 13.5486 37.6215 13.4454 37.4605C13.3422 37.2994 13.195 37.1714 13.0212 37.0915C12.8474 37.0116 12.6544 36.9832 12.465 37.0097C12.2755 37.0362 12.0977 37.1165 11.9525 37.241L4.95252 43.241C4.84308 43.3349 4.75524 43.4513 4.69501 43.5823C4.63479 43.7133 4.60361 43.8558 4.60361 44C4.60361 44.1442 4.63479 44.2867 4.69501 44.4177C4.75524 44.5487 4.84308 44.6651 4.95252 44.759L11.9525 50.759C12.0977 50.8835 12.2755 50.9638 12.465 50.9903C12.6544 51.0168 12.8474 50.9884 13.0212 50.9085C13.195 50.8286 13.3422 50.7006 13.4454 50.5395C13.5486 50.3785 13.6035 50.1913 13.6035 50V47H15.6035V57C15.6051 58.5908 16.2378 60.116 17.3626 61.2409C18.4875 62.3658 20.0127 62.9984 21.6035 63H43.6035C45.1943 62.9984 46.7195 62.3658 47.8444 61.2409C48.9693 60.116 49.6019 58.5908 49.6035 57V55.949C49.9345 55.975 50.2655 56 50.6035 56C54.0513 56 57.3579 54.6304 59.7959 52.1924C62.2339 49.7544 63.6035 46.4478 63.6035 43C63.6035 39.5522 62.2339 36.2456 59.7959 33.8076C57.3579 31.3696 54.0513 30 50.6035 30ZM52.6035 20C52.8687 20 53.1231 19.8946 53.3106 19.7071C53.4982 19.5196 53.6035 19.2652 53.6035 19V17.174L58.0665 21L53.6035 24.826V23C53.6035 22.7348 53.4982 22.4804 53.3106 22.2929C53.1231 22.1054 52.8687 22 52.6035 22H35.6035V20H52.6035ZM41.1895 3L39.1895 5H26.0175L24.0175 3H41.1895ZM3.60352 21C3.60352 18.8244 4.24865 16.6977 5.45735 14.8887C6.66605 13.0798 8.38401 11.6699 10.394 10.8373C12.404 10.0048 14.6157 9.78692 16.7495 10.2114C18.8833 10.6358 20.8433 11.6834 22.3817 13.2218C23.9201 14.7602 24.9677 16.7202 25.3922 18.854C25.8166 20.9878 25.5988 23.1995 24.7662 25.2095C23.9336 27.2195 22.5237 28.9375 20.7148 30.1462C18.9058 31.3549 16.7791 32 14.6035 32C11.6872 31.9966 8.8913 30.8365 6.82914 28.7744C4.76699 26.7122 3.60696 23.9163 3.60352 21ZM12.6035 45C12.3383 45 12.0839 45.1054 11.8964 45.2929C11.7089 45.4804 11.6035 45.7348 11.6035 46V47.826L7.14052 44L11.6035 40.174V42C11.6035 42.2652 11.7089 42.5196 11.8964 42.7071C12.0839 42.8946 12.3383 43 12.6035 43H29.6035V45H12.6035ZM39.6035 61H25.6035V60C25.6035 59.7348 25.7089 59.4804 25.8964 59.2929C26.0839 59.1054 26.3383 59 26.6035 59H38.6035C38.8687 59 39.1231 59.1054 39.3106 59.2929C39.4982 59.4804 39.6035 59.7348 39.6035 60V61ZM47.6035 57C47.6035 58.0609 47.1821 59.0783 46.4319 59.8284C45.6818 60.5786 44.6644 61 43.6035 61H41.6035V60C41.6035 59.2044 41.2874 58.4413 40.7248 57.8787C40.1622 57.3161 39.3992 57 38.6035 57H26.6035C25.8079 57 25.0448 57.3161 24.4822 57.8787C23.9196 58.4413 23.6035 59.2044 23.6035 60V61H21.6035C20.5426 61 19.5252 60.5786 18.7751 59.8284C18.0249 59.0783 17.6035 58.0609 17.6035 57V47H30.6035C30.8687 47 31.1231 46.8946 31.3106 46.7071C31.4982 46.5196 31.6035 46.2652 31.6035 46V42C31.6035 41.7348 31.4982 41.4804 31.3106 41.2929C31.1231 41.1054 30.8687 41 30.6035 41H17.6035V33.637C20.4498 32.9644 22.9857 31.3507 24.8004 29.0572C26.6151 26.7637 27.6025 23.9246 27.6025 21C27.6025 18.0754 26.6151 15.2363 24.8004 12.9428C22.9857 10.6493 20.4498 9.03556 17.6035 8.363V7C17.6067 6.00721 17.9798 5.05124 18.6499 4.31868C19.3199 3.58611 20.2389 3.12952 21.2275 3.038L24.8965 6.707C25.084 6.89455 25.3383 6.99994 25.6035 7H39.6035C39.8687 6.99994 40.123 6.89455 40.3105 6.707L43.9795 3.038C44.9681 3.12952 45.8871 3.58611 46.5572 4.31868C47.2272 5.05124 47.6003 6.00721 47.6035 7V18H34.6035C34.3383 18 34.0839 18.1054 33.8964 18.2929C33.7089 18.4804 33.6035 18.7348 33.6035 19V23C33.6035 23.2652 33.7089 23.5196 33.8964 23.7071C34.0839 23.8946 34.3383 24 34.6035 24H47.6035V30.363C44.7572 31.0356 42.2214 32.6493 40.4066 34.9428C38.5919 37.2363 37.6046 40.0754 37.6046 43C37.6046 45.9246 38.5919 48.7637 40.4066 51.0572C42.2214 53.3507 44.7572 54.9644 47.6035 55.637V57ZM50.6035 54C48.4279 54 46.3012 53.3549 44.4922 52.1462C42.6833 50.9375 41.2734 49.2195 40.4408 47.2095C39.6083 45.1995 39.3904 42.9878 39.8149 40.854C40.2393 38.7202 41.287 36.7602 42.8253 35.2218C44.3637 33.6834 46.3237 32.6358 48.4575 32.2114C50.5913 31.7869 52.803 32.0048 54.813 32.8373C56.823 33.6699 58.541 35.0798 59.7497 36.8887C60.9584 38.6977 61.6035 40.8244 61.6035 43C61.6001 45.9163 60.44 48.7122 58.3779 50.7744C56.3157 52.8365 53.5198 53.9966 50.6035 54Z" fill="#BA9A63" />
                    <path d="M40.6035 14H28.6035V16H40.6035V14Z" fill="#BA9A63" />
                    <path d="M36.6035 49H24.6035V51H36.6035V49Z" fill="#BA9A63" />
                    <path d="M42.6035 10H34.6035V12H42.6035V10Z" fill="#BA9A63" />
                    <path d="M38.6035 52.8574H30.6035V54.8574H38.6035V52.8574Z" fill="#BA9A63" />
               </svg>
               <h2 class="mb-4 mt-3">
                    Payment for Phone Numerology Record
               </h2>
               <div class="d-flex justify-content-center align-items-center">
                    <button class="button-popup px-3 py-2">
                         ok
                    </button>
                    <button class="button-popup outline px-3 py-2 ms-2">
                         cancel
                    </button>
               </div>


          </div>
     </div>


     <!-- Display Validation Errors -->
     @if($errors->any())
     <div>
          <ul>
               @foreach ($errors->all() as $error)
               <li>{{ $error }}</li>
               @endforeach
          </ul>
     </div>
     @endif

     <form>
          <script>
               var options = {
                    "key": "{{ env('RAZORPAY_KEY') }}",
                    "amount": "{{ $order->amount }}",
                    "currency": "INR",
                    "name": "Test Company",
                    "description": "Payment for Phone Numerology Record",
                    "order_id": "{{ $order->id }}",
                    "handler": function(response) {
                         var form = document.createElement('form');
                         form.method = 'POST';
                         form.action = "{{ route('payment.callback') }}";

                         var input = document.createElement('input');
                         input.type = 'hidden';
                         input.name = 'order_id';
                         input.value = response.order_id;
                         form.appendChild(input);

                         input = document.createElement('input');
                         input.type = 'hidden';
                         input.name = 'payment_id';
                         input.value = response.payment_id;
                         form.appendChild(input);

                         input = document.createElement('input');
                         input.type = 'hidden';
                         input.name = 'signature';
                         input.value = response.signature;
                         form.appendChild(input);

                         // Adding Invoice ID to the form
                         input = document.createElement('input');
                         input.type = 'hidden';
                         input.name = 'invoice_id';
                         input.value = 'test';
                         form.appendChild(input);

                         document.body.appendChild(form);
                         form.submit();
                    },
                    "prefill": {
                         "name": "{{ Auth::user()->name }}",
                         "email": "{{ Auth::user()->email }}",
                    }
               };

               var paymentButton = document.createElement('button');
               paymentButton.textContent = "Pay Now";
               paymentButton.onclick = function(e) {
                    e.preventDefault();
                    var rzp1 = new Razorpay(options);
                    rzp1.open();
               };
               document.body.appendChild(paymentButton);
          </script>
     </form>
</body>

</html>